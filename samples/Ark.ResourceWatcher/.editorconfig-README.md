# EditorConfig and Global Analyzer Configuration

This directory contains the reorganized configuration files for code style and analysis rules.

## File Structure

### 1. `.editorconfig` (Main EditorConfig file)
The main EditorConfig file for code style and formatting. This is automatically used by:
- Visual Studio
- Visual Studio Code (with EditorConfig extension)
- JetBrains Rider
- Command-line builds (dotnet build)

Contains:
- Core EditorConfig options (indentation, spacing, line endings)
- .NET coding conventions (dotnet_* style rules)
- C# coding conventions (csharp_* style rules)
- C# formatting rules
- Naming styles
- Code quality configuration

### 2. `.netanalyzers.globalconfig` (Microsoft Code Analyzers)
Global analyzer configuration file for Microsoft .NET analyzers.

Contains:
- 87 CA* rules (Microsoft .NET Code Analysis rules)
- 1 IDE* rule (IDE0005 - Remove unnecessary import)
- All rules are sorted by rule number
- Each rule includes a comment with its official description

Documentation: https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/quality-rules/

### 3. `.meziantou.globalconfig` (Third-party Analyzers)
Global analyzer configuration file for third-party analyzers.

Contains:
- 40 MA* rules (Meziantou.Analyzer rules)
- 1 VSTHRD* rule (VSTHRD200 - Visual Studio Threading Analyzers)
- All rules are sorted by rule number
- Each rule includes a comment with its official description

Documentation:
- MA* rules: https://github.com/meziantou/Meziantou.Analyzer
- VSTHRD* rules: https://github.com/microsoft/vs-threading

## How It Works

### EditorConfig
The `.editorconfig` file controls code style and formatting. It works automatically when you open files in supported editors.

### Global Analyzer Config Files
Global analyzer config files (`.globalconfig`) are different from EditorConfig files:
- They apply to **all files in the compilation** (not just files in specific directories)
- They use `is_global = true` at the top to indicate they're global
- They're included in the build via `Directory.Build.props` using `GlobalAnalyzerConfigFiles`
- They control **analyzer diagnostics** (warnings and errors from Roslyn analyzers)

The global analyzer config files are referenced in `Directory.Build.props`:
```xml
<ItemGroup Label="Global Analyzer Config Files">
    <GlobalAnalyzerConfigFiles Include="$(MSBuildThisFileDirectory).netanalyzers.globalconfig" />
    <GlobalAnalyzerConfigFiles Include="$(MSBuildThisFileDirectory).meziantou.globalconfig" />
</ItemGroup>
```

## Maintenance

When updating rules:

1. **For style/formatting changes**: Edit `.editorconfig`
2. **For CA*/IDE* analyzer rules**: Edit `.netanalyzers.globalconfig`
3. **For MA*/VSTHRD* analyzer rules**: Edit `.meziantou.globalconfig`

All files are automatically applied during build and in supported editors.

## Changes from Original

The reorganization:
- ✅ Separated EditorConfig style rules from analyzer diagnostics
- ✅ Moved analyzer diagnostics to global analyzer config files (better practice)
- ✅ Added official descriptions for all 129 diagnostic rules
- ✅ Sorted all diagnostic rules by their code number
- ✅ Maintained all core style settings, naming conventions, and formatting rules
- ✅ Kept all existing rules and their severity levels unchanged

## Benefits

- **Separation of Concerns**: Style rules in .editorconfig, analyzer rules in .globalconfig
- **Better Performance**: Global analyzer configs are more efficient for build-time analysis
- **Self-documenting**: Each rule has its official description
- **Organized**: Rules grouped by analyzer and sorted numerically
- **Maintainable**: Easier to find and update specific rules
- **Standards-compliant**: Follows Microsoft's recommended configuration approach
